= Campaign Design How-To =
Eric S. Raymond <esr@thyrsus.com>
v1.0, November 2007

This is a HOWTO on writing campaigns that I'm developing by writing
_The Hammer Of Thursagan_.  Though _THoT_ is my first all-original
campaign, this draws on my experience co-authoring one (_Northern
Rebirth_), editing five other campaigns for mainline (_An Orcish
Incursion_, _Liberty_, _Descent Into Darkness_, _The Scepter Of Fire_,
_Son Of The Black Eye_), and co-maintaining a sixth (_The South
Guard_).

== Storyline comes first ==

First, *write your storyline*.  Battles may be the center of _Battle
For Wesnoth_, but writing an interesting storyline and designing
battles to fit works better than designing battles and then wrapping a
story around them.

=== Storyboarding ===

So, start by writing a storyboard of your campaign.  The storyboard should
contain a section for each scenario, beginning with its title and continuing
with the story text and dialogue.  The storyboard should also include a 
description of the map and the kind of battle you want to have.  It should
describe any special events in the scenario, how they may fire, and what the
effects are.

Here is an example of a storyboard section from _The Hammer Of Thursagan_.
Most storyboard sections are shorter than this; I chose a complex one 
to give an idea of the range of things you may want to do in a storyboard.

*************************************************************************
Scenario 6: High Pass

Angarthing: Behold, the High Pass.  By the old maps, we are halfway to
Kal Kartha here. 

Aiglondur: We must push through quickly; there is a vicious storm
coming in behind us.  Being caught in a blizzard on those heights
would be no laughing matter.

The map should be a twisty, narrow path through rugged snow-capped
mountains.  The objective will be to get Aiglondur through to the
other side.  The opponents will be gryphons, wolves, and the elements.
We should try to get creative with representing the effects of extreme
cold, perhaps something like the dehydration effect in UtBS.  And the
time-limit should be tight.

There should be a village near the midpoint of the pass.  When the players 
occupy it, a Red Mage named Ratheln will appear.

Ratheln: Hail, I am Ratheln.  If you're traveling down the pass,
please take me with you.  I am near freezing and starving to death up
here.

Angarthing: Pardon my curiosity, but what is a firemage doing freezing to 
death?

Ratheln: In case you haven't noticed, there is a serious shortage of
both firewood and food in this gods-forsaken slot.  And the damned
gryphons descend on me whenever I stir out of this shack.  I've
had nothing to eat but flash-roasted gryphon for the last three
weeks.

Aiglondur: Where were you bound when you got stuck here?

Ratheln: There is a school of mages near the east end of the pass.
They've an opening for an instructor, and they're expecting me.

Angarthing: Let's take him with us, Aiglondur.  We know little
about the country beyond to the east; we've had few reports on it
since before the orcs took Knalga.  Those mages should know at
least rumors.

Aiglondur: Aye.  And I'd not leave anyone who had done my kin no harm
stranded to starve.

On victory:

Aiglondur: We're through the pass!

Angarthing: That may not be a blessing. Something frightened those
orcs enough to make them push west into Alliance territory.  Don't you
wonder what it was?

Aiglondur: Aye.  But I've a grim feeling we might be going to 
discover that in person.

On halfway through the turns:

Aiglondur: It has begun to snow.  Move, everyone!  To be trapped here 
would be death.

On time out:

Aiglondur: We're snowed in.  Our mission has failed, even if we live.
*************************************************************************

The WML for _THoT::High Pass_ doesn't exactly match this; I added ogres and 
woses as possible enemies, and some of the dialogue has changed a little.
Your storyboard should be a support, not a straightjacket; its function 
is to help you focus on storyline composition without being distracted
by WML and implementation details.

You don't even necessarily have to write out every single line of
dialog in your storyboard drafts.  I like to do that, but a
placeholder like ``The captain and the mage discuss how difficult the
upcoming battle will be'' is probably good enough for a first pass.

One last note about storyboarding: pick a reasonable campaign length
(count of scenarios) and stick with it.  We've found by experience
that 10-12 is a good medium length, 16-18 is long, and over that is
epic and nearly unmanageable.  It's difficult to sustain interest over
16 scenarios. If you find yourself plotting a 25-scenario storyboard,
beware lest your stamina fail to match your ambition.

Thursagan's Hammer is 13 scenarios; of those, scenarios 2 and 13 are
talk only, I chose that length carefully after having studied the
mainline WML and noticing that 11 ``real'' battle scenarios seems to be
a sweet spot (a point, by the way, on which the original designer of
Wesnoth says he strongly agrees).  You should choose yours just as
carefully.

=== Tips for good storyline writing ===

A good storyline is not just a series of incidents hanging in the
void.  A good storyline has continuity within itself and connections
to the rest of the world of _Battle For Wesnoth_.

Use place names. ``Behold, the High Pass...we are halfway to Kal Kartha.''
You create a sense with these that the story is *situated*; the 
landscape means something to the characters, and the reader is invited
into their world of meanings.  It's even better when you can use a place 
name on the main Wesnoth map; this ties the campaign to the known world.

Use calendar references that situate the campaign in the Wesnoth timeline.  
The intro for the first scenario of _THoT_ ends like this:

*************************************************************************
But the threat from hostile orcs, wild men, and remnant undead was not
yet ended.  The dwarves kept strong guards on the approaches to
Knalga. In the year 550 after the founding of Wesnoth, the captain of
the East Gate received a warning that a small band of rogue orcs
had been sighted.
*************************************************************************

This is a story hook.  We know where it happens, we know when, and we've
introduced our first character: the (not yet named) captain of the East
Gate of Knalga.  The first speaking lines in the scenario will be his.

Use foreshadowing and back references to create continuity. In our
storyboard for _High Pass_: ``There is a school of mages near the east
end of the pass.''  This is a really simple form of foreshadowing; the
player is quite likely to think ``School of mages?  Cool! I hope I get
to see it in next scenario.''  We give the player something to
anticipate -- and when he *does* actually see that school in _Mages And
Drakes_ (scenario 7), we've created a continuity, a bit of thread that
ties _High Pass_ together with _Mages And Drakes_.

``Something frightened those orcs enough to make them push west into
Alliance territory'' -- that's a back reference to the action of
scenario 5, _Invaders_.  By writing this, we give that scenario a
meaning it didn't have before; we tie it to the present of the
characters in _High Pass_.  This is another kind of continuity, making
the story stronger.

Develop characters. Look at this again:

*************************************************************************
Ratheln: In case you haven't noticed, there is a serious shortage of
both firewood and food in this gods-forsaken slot.  And the damned
gryphons descend on me whenever I stir out of this shack.  I've
had nothing to eat but flash-roasted gryphon for the last three
weeks.
*************************************************************************

We get a good sense of what Ratheln is like from this -- gruff, sarcastic, 
and the kind of tough that will tear into a gryphon carcass with his 
teeth if he has to.  Not a guy to be idly messed with. Players will
remember this bit; the whole campaign just got a little more interesting.

Don't go overboard with character development. A lot of writers have
been taught to believe that stories stand or fall on the quality of
their characterization.  This ain't necessarily so even in general,
and in the very tight constraints of _Battle For Wesnoth_ storylines,
it can all too easily lead you into overwriting.

Even a hundred words of dialogue is pretty talky in a Battle For
Wesnoth scenario, and you have to budget a lot of that for plot.  You
can't afford to spend lots of verbiage on characterization, which
means every bit you do has to count.

=== Flow, climax, and story arcs ===

The basic trajectory of a Wesnoth campaign should work like the basic
trajectory of any story -- a building-up of tension, followed by a
climax, followed by a wrap-up or resolution (writers call this the
``story arc'').  So simply for narrative reasons, early scenarios should
be easy and later ones progressively more difficult.  In Wesnoth,
of course, this is also necessary because each scenario has to be matched 
to the rough number of veterans you expect your player to have 
when it starts.

In Wesnoth, an explicit resolution often takes the form of a single
talk-only Epilogue scenario.  From a strictly gaming point of view
there's no point to an Epilogue because there's no battle; it's very
much there to finish the story.

Long campaigns may actually have two or even three story arcs in
sequence, all fitting into a single over-arc in which earlier
sub-stories build up tension for the final resolution.  Each such arc
should finish we the achievement of some kind of marked goal, and give
the player a sense of relaxation and accomplishment.

For example, in _The Rise of Wesnoth_ (a *very* well-written campaign
that repays careful study) there are three story arcs.  One finishes
with Haldric's departure from the Green Isle, the second finishes when
Haldric sits down to negotiate with the elves of the Great Continent,
and the third one climaxes with the final battle against the lich-lord
Jevyan.

Another important rhythm is this: as you build up tension, alternate 
easy with hard scenarios.  This makes good story -- Tolkien relied
on it heavily in plotting Lord of the Rings -- but there is a specific
technical reason to do it in Wesnoth: gold control.  We'll talk about
this more when we describe balancing techniques.

When you write your storyboard, it's a good idea to note which
scenarios open, climax, and (if applicable) resolve each story arc,
Also, note which scenarios are intended to be easy and which hard.
That way you'll notice when you have two hard or two easy scenarios
adjacent and get a good clue about something that might need fixing.

=== Writing with flavor ===

Now I'm going to talk about prose and style.  I'm aware that unless you're
already a fairly good writer, the advice I'm about to give will be
about the most difficult part of this how-to to apply.  But even
if you don't consider yourself a good writer, read it and let it
sink in; you may well surprise yourself later.

_Battle For Wesnoth_ is a fantasy game.  Your storyline will work best
(be most accessible to the player, have the most interesting
atmosphere) if your player finds your prose similar to the experience
of reading a well-written modern fantasy novel of the epic or
high-fantasy type -- that is, not urban fantasy or horror, but part of
the high-fantasy tradition largely derived from J.R.R. Tolkien and a
few other lesser-known writers (James Branch Cabell, Lord Dunsany,
E.R. Eddison, etc.).

Therefore, you need to know about the conventions for how high-fantasy
prose should sound.  If you are an *extremely* good writer (like, say,
the author of _The Rise of Wesnoth_), you can play directly against
these conventions.  Very few people are that good; the rest of us
(including me) are better off following them as carefully as we can.

*First rule: Crib shamelessly.* Remember that when writing for Wesnoth,
you are not trying for a literature prize.  Lifting ideas and imagery
from Tolkien and other great fantasy authors is just fine, usually
much more appropriate than trying to pull the player into a private
artistic world of your own.

Here's an example.  I wrote the description of Mal-Ravanal's death 
at the beginning of the Epilogue to _Eastern Invasion_.  Here it is:

*************************************************************************
As the lich's death-scream echoed in the air, a vast and louring
column of shadow arose from his corpse like smoke from an unclean
fire; then it divided fivefold at its height, reaching for the
heavens like a clutching hand.

Men let weapons fall from nerveless fingers and horses reared in
terror as that great dark pall obscured the sun...and then it
thinned, and paled, and a breeze from the west dissolved it in
tatters, and the light of day shone once again undiminished on
Weldyn.
*************************************************************************

I lifted the central image quite consciously from J.R.R. Tolkien's
description of the passing of Sauron in The Return of the King:

*************************************************************************

[...] black against the pall of cloud, there rose a huge shape of shadow,
impenetrable, lightning-crowned, filling all the sky.  Enormous it
reared above the world, and stretched out towards them a vast
threatening hand, terrible but impotent; for even as it leaned over
them, a great wind took it, and it was all blown away, and passed; and
then a hush fell.

*************************************************************************

Remember, some cliches are cliches because they *work*.  Go and do
likewise whenever appropriate.  Don't lift word-for-word, though;
that can lead to copyright problems.

*Second rule: Fantasy characters don't use modern slang or speech
rhythm.*  You should write in careful, formal English.  If it's
possible for you, imitate the longer sentences and more rounded,
relaxed rhythms of late-19th and early 20th-century English as written
by an Oxford don (this was Tolkien's dialect).

*Third rule: Use archaic and poetic forms -- carefully.*  For example,
``I fear that...''  is better than ``I'm afraid that...''  I have Ratheln
saying ``Hail'' rather than ``Hello'' for a reason; it creates a sense of
some strangeness appropriate for a fantasy milieu.  

Sparing use of poetic and dialect words is good.  For example, in
one of the _THoT_ scenarios there's a line like this:

*************************************************************************
Scout: Nae sign o' bandits I can see, captain -- but there are three 
muckle hosts of orcs off to our east.
*************************************************************************

Many of your readers won't know that ``muckle'' is a Scots-dialect (and
archaic English) word meaning ``a large amount'' or ``great''.  But a few
will, and a few more will guess the meaning correctly.  For those
who don't, the presence of a word they don't know will be a bracing
little hint of the strange -- as long as (and this is important!)
the sentence *remains comprehensible without it*.

Don't go overboard, though.  Going all Shakespearian with prithees and
sirrahs and thou arts isn't necessary and would just distract your
players.  Use your archaisms like spices in cooking; to add flavor,
not to overwhelm.

That last example sentence illustrates a related tool: Yon dwarf has
an accent.  In this case, specifically, a Scots one.  I've made a
point of giving some of the dwarves in the campaigns I write or adapt
that accent.  The degree varies: Lord Hamel (in Northern Rebirth and
_The Hammer of Thursagan_) has a heavy accent, Aiglondur a
light-to-nonexistent one.  But it differentiates them from humans in a
useful and interesting way.

(For non-English speakers: In English-language folklore, the Scottish
share many characteristics with fantasy dwarves.  Both are tough,
dour, canny mountain folk who are good at engineering and hold grudges
forever; the similarity even makes sense to a Scot.  This is why a
Scots accent ``feels right'' for a dwarf.)

If you have the skill for it, give your characters accents -- or, at
least, distinguishable speech patterns.  Elves should sound flowery
and hyper-correct, dwarves should sound dour and tough, orcs should
sound brutal and angry, trolls and ogres should sound stupid.

*Fourth rule: Change register appropriately.* All the tricks I've been
talking about (cribbing from authors, formal English, poetic and
dialect words, accents) become more appropriate and more important in
climax scenes than they are in ordinary narration.  At times of great
intensity, shift your prose a bit away from colloquial modern English
-- make it more formal, more fantasy-tinged, more *powerful*.

== Making interesting maps ==

The most useful thing you can know about designing maps is that it
seems to be actively difficult to design a map that both has visually
interesting terrain and produces a boring battle.  The AIs are quite
senstive to movement costs; thus, they tend to seize on even small
irregularities in your map and amplify them into relatively dramatic
effects on how AI-controlled units move and attack.

Therefore, when you're designing a first-draft map you can generally
relax and make interesting-looking doodles that fit your storyline,
without worrying too much about shaping the battle.  After you've
played your scenario through a few times and seen what the AIs do with
the terrain, you may find you want to tweak a few things, but I find
this is often unnecessary.  When I do tweak, more often than not it's
just to adjust the density and placement of villages.

There is one specific gotcha about dungeon maps: it is not generally a
good idea to draw corridors or openings only a single hex wide.  These
too easily become bottlenecks where cooperating weak units can hold up
strong ones indefinitely, especially if there's a village nearby for
wounded defenders to rotate through.  It's frustrating to be on the
wrong end of this, so don't draw such narrow apertures unless you have
a specific reason for wanting a bottleneck.

We've mostly reduced the problem of designing interesting map to making
visually interesting terrain.  So, what makes visually interesting terrain?

The answer is this: real landscapes look like like fractal noise --
2-dimensional waveforms that are self-similar at all scales (treelike,
cloudlike, wavelike).  Human brains respond to this; in fact, we've
evolved to like it so much that we generate artificial 1-dimensional
fractal noise for pleasure, and call it ``music''.

So, learn how to doodle fractal noise in the map editor and you'll have
the trick of making maps that are interesting.  That will translate
fairly directly into interesting battles.  I find that it helps to 
scribble quickly and roughly and turn your mouse errors into seeds 
for more fractal irregularities.

== Army balancing ==

The key fact that makes army balancing possible is this: no matter
what faction you're playing, one gold piece is going to get you about
the same sum of combat power and endurance.  Units that have
advantages in one direction (such as, say, the saurian combination of
mobility and skirmisher ability) will have disadvantages in another
direction (Saurians have relativity low hit points, so they die
quickly in a standup fight at 1-1 odds).

Therefore, the *Equal-Cost-Equal-Power Rule (ECEPR)*: you can balance
armies fairly effectively by giving them the same amount of gold to
recruit with.  The Wesnoth maintainers tune units and factions with
the main goal of ensuring that ECEPR stays true.

There are some important caveats to this.  *First caveat*: some
combinations of factions are more ``unstable'' than others -- that is,
while the expected outcome of 1000 fights between equal-cost armies
from factions A and B is about a 50% split no matter which factions A
and B are, some combinations are more prone to swing large around the
mean.  Thus they will seem very sensitive to tactics and dumb luck.

Dwarves or outlaws vs. orcs, for example, is pretty stable -- unless
the orcs have assassins, in which case the variance goes up (poison is
destabilizing in general).  Mages vs. undead is unstable; in general,
pure archers vs. pure infantry is unstable.

*Second caveat:* to get that 50/50 split it has to be the case that
each side is using the right countertactics against the other.  Your
chances running (say) an equal-cost army of dwarves againt saurians
may be 50/50 in the large, but if you don't pull your dwarves into
tight-packed groups to shield the wounded you're not going to get your
standup fight at 1-1 odds; you'll find that saurian skirmisher ability
will shift the odds dramatically against you.  High mobility is
destabilizing in general.

*Third caveat:* Fortifications.  Units in castles or on terrain that
favors their defense collect an advantage.  An assault on a fortified
position will require more gold to the attacking side to make it even.
There's no real rule of thumb here: you have to balance-test and watch
what happens.

*Fourth caveat:* ECEP doesn't count player veterans in campaigns.
Player veterans have a fixed cost of 20 each, which is less -- often a
*lot* less -- than the unit cost if you had to buy it direct (assuming
you were able to).  An Archmage, for example, costs 59 gold and has
about three times the combat power of a typical L1 unit; getting it
for 20 gold is a steal.

Here there is a rule of thumb.  L2 units tend to be just about twice
as powerful as L1s, and L3 units roughly three times as powerful.
This, you can multiply a player side's starting gold by the average
level of its recruiting list to get a number roughly comparable to an
AI side's starting gold.

To tilt a fight against one side, change the armies' starting gold.
The unit to think about when you do this is a recruit-equivalent.  A
*recruit-equivalent (RE)* is the amount of gold required for each army
to recruit an average L1 unit of its faction.  So, for example,
dwarves have a L1 Fighter costing 16 gold and a L1 Thunderer costing
17 gold; a dwarven RE is thus 16.5.  Think in multiples of a side's
RE when changing its gold level.

== Scenario and campaign balancing ==

How hard is too hard?  Remember that as a campaign designer, your job
is to produce fun, not frustration.  

Hence, the *First-Time-Possible Rule (FTPR)*: It should be possible for a
skilled enough Wesnoth player to win each scenario without any
restarts first time he/she plays it, provided he/she doesn't make any
actual mistakes and is not seriously unlucky.

Because your player accumulates veterans, first-time-win without
restarts can still be just possible in a campaign's late scenarios
even though they involve much nastier opponents than earlier on.

We have a distinction between Beginner, Intermediate, and Expert
campaigns; this is what defines ``skilled enough''.  At Beginner level,
``skilled enough'' means little more than ``able to able to move and
fight units in rough groups and rotate your wounded out of the
way''. At Expert level, ``skilled enough'' implies tactical expertise
-- the ability to organize a flanking assault, ZOC-pin enemy units
with mobile troops, manage a fighting retreat, etc.  Intermediate is
in between.

This is at the campaign or scenario's Normal level of difficulty; it
is OK, and expected, that Easy will be easier and Hard will be harder.
How much is up to you.  A good way to go is to balance-test extensively
at Normal level, then adjust gold and/or turns and/or recruit lists
to make Easy about 25% easier and Hard about 25% harder.

The balancing method that seems to work for me is simply to play
through the campaign often enough to get a feel for the number of
veterans the player will typically have going into each scenario, and
then tune the enemy gold so the player can just about beat it reliably
at Normal level *with those veterans*.

== Traps to avoid ==

=== Landmines ===

One major main thing to avoid in designing scenarios is landmines --
random or unforeseeable events that make it impossible to win even if
the player is playing intelligently.  A fair number of user-made
campaigns have been consigned to the outer darkness forever because
they have nasty surprise moveto traps that are, in effect, landmines.

This is not to say that all moveto traps are bad.  An important feature
of good ones is that the story dialog gives clues that are sufficient
to avoid them, or mitigate their effects, if you're playing smart.
Remember, your goal is to challenge and stimulate the player, not
randomly frustrate him/her.

=== Tomato Surprises ===

Another thing not to do is the ``tomato surprise'' -- an unavoidable
event that, once you know about it after the first playthrough,
completely changes the way you will play the scenario (even how you
will play it before the event fires) on the second and later plays.

The Under The Burning Suns scenario _A Stirring in the Night_ has a
tomato surprise when the player-side hero Garak turns undead and the
objective shifts to defeating him; this is a significant flaw in an
otherwise interesting and well-written campaign.

=== Relying on AI Allies ===

Beware of giving your player an AI ally as a balancing tactic.  It's
quite hard to set up a battle in which the AI ally is reliably
helpful.  Ally AIs are prone to quirks like grabbing villages when
they ought to be fighting, or running units off into the middle of
nowhere for no obvious reason.  It's unwise to count on them to do
more than blunder into the enemy's path and slow him down a bit.

If you want the ally side to be really helpful, consider giving the
player actual control of it.  Northern Rebirth uses this technique in
a couple of scenarios, including the big final one (Showdown, scenario
13). The player gets to run both the human and drake sides, with elves
and dwarves as AI allies.

=== Races Against Time ===

When regulating the difficulty of a scenario you have three main knobs
you can turn: the starting gold, the recruitment lists, and the turn
limit.  When you want to turn the difficulty up, increasing enemy gold
is probably the first thing you should think of and shortening the
turn limit the last.

Why?  Because few things are more frustrating than to have the last enemy 
boss cornered, beat his hitpoints down into the red zone...and then, just
as your valiant warriers are about to deal the death stroke, lose because
you ran out of time.  Players hate this, and with reason.  You shouldn't
do it to them.

Tight time limits occasionally have their uses.  One is in ``get your
hero to the signpost'' scenarios, like the first one in _Heir To The
Throne_ annd _THoT::High Pass_.  Another is the inverse; scenarios
where you have to hold out against enemies until the bell tolls, like
the first scenario of _Eastern Invasion_.  In both those situations
you can use the time limit to build dramatic tension, and it seems
natural in those contexts.

But for straight battle scenarios, time limits are almost always the
wrong way to control difficulty.  Think of them instead mainly as a
way to control the amount of gold carried forward into the next
scenario.

== Larger-scale problems in campaign balancing ==

There's a problem in the Wesnoth reward system.  Making too little
gold in a scenario increases the chance that you'll fare badly in the
next one, because you can't afford to recall enough vets to beat the 
turn limit.  Conversely, success is self-reinforcing; beating a
scenario early may mean you can use the bonus gold to beat the 
next one even more aggressively.

Without careful management, this can lead to a kind of feast-or-famine
instability in which players of a campaign are either perpetually starved for 
gold and struggling in an un-fun way, or rolling in gold and able to
recruit with such abandon that even hard scenarios are too easy.

This feast-or-famine instability is the main reason very long
campaigns tend not to work.  The exceptions that do work tend to 
have periodic ``gold-eater'' scenarios that are basically designed 
to drain the player's reserves.  They then get reset to some
reasonable minimum by the starting gold of the next scenario.

_Son of the Black-Eye_ is a long campaign at 19 scenarios. Scenario 10
(_Saving Inarix_) is a gold-eater.  You must recruit heavily (and
expensively) to survive, and most of those units are going to die.
Without this bottleneck, there would be far too much gold sloshing
around in scenarios 11-19.

Sometimes the opposite tactic is useful.  The first really large fight
in _THoT_ is scenario 5, _Invaders_.  After several playthroughs I noticed
that playing from campaign start to the end of scenario 4 (_Troll
Bridge_) seemed to involve about the right level of challenge, but that
retaining enough gold to make Invaders winnable seemed unreasonably
difficult.  Rather than retune the earlier scenarios, I put a pile of
treasure under the boss troll.

But the most reliable way to manage gold is to alternate hard and easy
scenarios.  The easy ones generate gold, the hard ones eat it.

== Advanced techniques ==

It's perfectly possible to write an interesting campaign with a linear
plot and the final objectives always shown at the beginning of each
scenario.  Eight of the twelve campaigns currently in mainline fit
this description.  

For the more ambitious, there are a couple of techniques you can use
to create more possible ways to play through the campaign and set up
interesting surprises.  But these techniques have to be handled with
care.

=== Branching ===

One technique is branching.  It's possible to set up logic that will
dispatch a player to one of two (or even more) alternative next
scenarios.  Typically you do this through a menu choice presented on
victory.

In The South Guard, for example, _A Choice In The Fog_ (scenario 5)
presents you with a choice of allying with either elves or human
bandits against undead.  This starts you on one of two different
plotlines that lead to different endings.  This is open branching.
It's relatively simple.

Heir to the Throne has a trickier structure.  There is a branch point
after Bay of Pearls (scenario 4); you can continue by land (_Muff
Malal's Peninsula_, scenario 5a) or by sea (_Isle of the Damned_, 5b).
Winning either 5a and 5b takes you to _Siege of Elensefar_, scenario 6.

Later in the campaign there is a three-way branch point after the
aptly named _A Choice Must Be Made_ (18). You can fight orcs on the 
Snow Plains (19a), or you can fight undead in _Swamp of Dread_ (19b);
both these scenarios lead to _Home of The North Elves_ (20a).  If you
have mermen you can get a third option, _Cliffs of Thoria_ (19c).  This
takes you to _Underground Channels_ (20b).  Both 20a and 20b direct
you to _Elven Council_ (21) on victory.

These are closed branches.  They rejoin the main plot when they're
done.  The big issue with closed branches is that the branch paths
have to have about equal difficulty levels.  Otherwise, you'll create
a feast-or-famine instability later in the campaign because players
can come to the merge point with widely varying amounts of gold.

_The Rise of Wesnoth_ has yet another, unique, kind of branch structure
which illustrates how you can get really creative.  After _Elf
Lords_ (16) there are 4 challenge scenarios: _The Dragon_, _A
Beach_, _Troll Hole_, and _Cursed Isle_.  You must do all 4, but you
get to choose the order you do them in.  You loop back to _Elf Lords_
after each victory; only completing all four lets you continue to A
_Spy In The Woods_ (18).

It would probably be unwise to try to write a branch into your first
campaign.  _The Hammer of Thursagan_, which is my first all-original
campaign (after about half a dozen adaptations for mainline), has 
no branches.  But once you become experienced enough, branching can
greatly increase your design options and the repeated play value 
of a campaign.

=== Shifting Objectives ===

An even tricker technique than branching is changing a scenario's
objectives partway through it.  Handle this one with extreme care,
because objective changes have a bad tendency to turn into tomato
surprises (earlier we called out an example of this in _Under The
Burning Suns_).

Never change objectives in such a way that the player can't possibly
meet them without pre-planning for the new ones.  As an obvious
example, changing a scenario's objective to from ``defeat all ememies''
to ``move your hero to the signpost'' is quite likely to be horribly
frustrating to the player -- the hero might be fighting all the way on
the other side of the map.  

If you really must pull something like this, at least increase the
scenario turn limit so the player will have time to refocus and
go after the new goals.

In general, if the objectives change mid-scenario, the change should
either (1) not be too difficult change strategically (perhaps as well
as an extra difficulty, the player also gets assistance from
somewhere), or (2) the potential for the change should be strongly
hinted at to give an observant player the opportunity to plan.

== Fun, not Frustration ==

When in doubt, remember what your goal as a scenario and campaign designer
is: to give your players pleasure and a sense of acciomplishment.  Aim
for fun, not frustration.
